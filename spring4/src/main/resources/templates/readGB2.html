<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
function del(n)
{
	let pw = document.getElementById('password'+n).value;
	document.getElementById('num1').value = n;
	document.getElementById('password').value = pw;
	document.getElementById('deleteForm').submit(); //ê¼­ ê¸°ì–µí• ê²ƒ
}

function rev(n)
{
	let pw = document.getElementById('password'+n).value;
	alert(pw+','+n);
	document.getElementById('num2').value = n;
	document.getElementById('pw').value = pw;
	document.getElementById('reviseForm').submit();
}

/*function up(n)
{
	document.getElementById('cnt').value = n; //onclickìœ¼ë¡œ ë„˜ì–´ì˜¨ ê°’ì„ ë½‘ì•„ë‚´ ë³€ìˆ˜ì— ë‹´ê¸°. 	
}

function down(n)
{
	document.getElementById('cnt').value = n;
}*/
</script>
</head>
<body>
	
	<h1>[  ë°©ëª…ë¡ 2 ]</h1>
	
<!-- ì‚­ì œí¼  -->
	<form th:action="@{/deleteGB}" method="post" id="deleteForm">
		<input type="hidden" name="num" value="0" id="num1">
		<input type="hidden" name="password" value=""  id="password">
		<!-- ê°’ì„ ê°€ì ¸ê°€ê¸° ìœ„í•¨. value ê°’ì€ ì„ì‹œ. í•¨ìˆ˜ì—ì„œ ê°’ì´ ë°”ë€Œì–´ë“¤ì–´ê°.  -->
	</form>
<!-- ìˆ˜ì •í™”ë©´ìœ¼ë¡œ ê°€ê¸°ìœ„í•œ ìˆ˜ì •í¼ -->
	<form th:action="@{/reviseGB}" method="post" id ="reviseForm">
		<input type="hidden" name="num" value="0" id="num2" >
		<input type="hidden" name="password" value="" id="pw">		
	</form>
	<p><a href="writeGB">ê¸€ì“°ê¸°</a></p>
 
    <table th:each="g : ${readGB}">
      <tr>
         <td>ì‘ì„±ì:<span th:text="${g.name}"></span></td>
      	 <td>
      	 	<form th:action="@{/upvote}" method ="post" >
      	 		<input type="hidden" name="num" th:value="${g.num}" >
      	 		<button type="submit">ğŸ‘</button><span th:text ="${g.upvote}"></span>
      	 	</form>
      	 </td>
      	 <td>
      	 	<form th:action="@{/downvote}" method ="post" >
      	 		<input type="hidden" name="num" th:value="${g.num}" >
      	 		<button type="submit">ğŸ‘</button><span th:text ="${g.downvote}"></span>
      	 	</form>
      	 </td>   	 
      </tr>
      <tr>
         <td>ì‘ì„±ì¼:<span th:text="${g.inputdate}"></span></td>
      <tr>
      <tr>
         <td>ê¸€ë²ˆí˜¸:<span th:text="${g.num}"></span></td>
      <tr>
      <tr>
      	<td colspan="2"><pre th:text="${g.message}"></pre></td>
      </tr>
      <tr>
      	<td colspan="2">
      		
      				 
      		ë¹„ë°€ë²ˆí˜¸ <input type="password" th:id="|password${g.num}|">
      				<input type="submit" value="ìˆ˜ì •" th:num="${g.num}" onclick ="rev(this.getAttribute('num'))"> 
      			 	<input type="submit" value="ì‚­ì œ" th:num="${g.num}" onclick ="del(this.getAttribute('num'))">
      				 
      		
      	</td>
      </tr>
   </table>
 
</body>
</html>